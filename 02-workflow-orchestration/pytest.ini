# =============================================================================
# Pytest Configuration
# =============================================================================

[pytest]
testpaths = tests
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

addopts =
    -v
    -ra
    --strict-markers
    --tb=short

markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: marks tests as integration tests (need external services)
    unit: marks tests as unit tests (no external dependencies)

console_output_style = progress
filterwarnings =
    ignore::DeprecationWarning
    default::DeprecationWarning:tests.*

# -----------------------------------------------------------------------------
# NOTES D'UTILISATION
# -----------------------------------------------------------------------------
#
# COMMANDES UTILES:
#
# 1. Run tous les tests:
#    pytest
#
# 2. Run seulement les tests de DAGs:
#    pytest tests/dags/
#
# 3. Run un fichier spécifique:
#    pytest tests/dags/test_yellow_dag.py
#
# 4. Run un test spécifique:
#    pytest tests/dags/test_yellow_dag.py::test_dag_loads
#
# 5. Run avec coverage:
#    pytest --cov=dags --cov-report=html
#
# 6. Run seulement les tests rapides (skip slow):
#    pytest -m "not slow"
#
# 7. Run seulement les tests unitaires:
#    pytest -m unit
#
# 8. Mode verbose avec output complet:
#    pytest -vv
#
# 9. Afficher print statements:
#    pytest -s
#
# 10. Re-run seulement les tests qui ont fail:
#     pytest --lf  (last-failed)
