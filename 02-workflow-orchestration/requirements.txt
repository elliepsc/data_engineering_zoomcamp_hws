# Airflow with Postgres support
apache-airflow[postgres,celery]==2.10.0

# Database driver
psycopg2-binary==2.9.9

# Data processing
pandas==2.2.0
numpy<2.0  # CRITICAL: pandas 2.2.0 requires numpy <2.0

# HTTP requests (for downloading CSV files)
requests==2.31.0

# Testing
pytest==8.0.0
pytest-cov==4.1.0

# Code quality
black==24.1.0
flake8==7.0.0

# Utilities
python-dotenv==1.0.0
sqlalchemy==2.0.25

# -----------------------------------------------------------------------------
# NOTES IMPORTANTES
# -----------------------------------------------------------------------------
# 
# 1. VERSIONS PINNED (==):
#    - On fixe les versions exactes pour éviter les surprises
#    - En prod, c'est CRITIQUE (pas de "pandas>=2.0" qui pourrait installer 3.0)
#
# 2. ORDRE D'INSTALLATION:
#    - pip installe dans l'ordre du fichier
#    - Airflow en premier (il installe beaucoup de dépendances)
#    - Les autres après (évite les conflits)
#
# 3. COMPATIBILITÉ:
#    - Testé ensemble, ces versions fonctionnent bien
#    - Si tu upgrades une librairie, teste TOUT
#
# 4. DOCKER vs LOCAL:
#    - requirements.txt pour Docker (dans le Dockerfile si on en avait un)
#    - Pour dev local: pip install -r requirements.txt dans un venv
